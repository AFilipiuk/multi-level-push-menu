(function(a){a.fn.multilevelpushmenu=function(c){var b=arguments;returnValue=null;this.each(function(){var N=this,p=a(this),l=(p.context!=undefined)?p:a("body"),U=(c&&c.menu!=undefined)?c.menu:p.find("nav"),J,f;var S=a.extend({container:l,containersToPush:null,menuID:((l.prop("id")!=undefined&&l.prop("id")!="")?l.prop("id"):this.nodeName.toLowerCase())+"_multilevelpushmenu",wrapperClass:"multilevelpushmenu_wrapper",menuInactiveClass:"multilevelpushmenu_inactive",menu:U,menuWidth:0,menuHeight:0,collapsed:false,fullCollapse:false,direction:"ltr",backText:"Back",backItemClass:"backItemClass",backItemIcon:"fa fa-angle-right",groupIcon:"fa fa-angle-left",mode:"overlap",overlapWidth:40,preventItemClick:true,preventGroupItemClick:true,swipe:"both",onCollapseMenuStart:function(){},onCollapseMenuEnd:function(){},onExpandMenuStart:function(){},onExpandMenuEnd:function(){},onGroupItemClick:function(){},onItemClick:function(){},onTitleItemClick:function(){},onBackItemClick:function(){},onMenuReady:function(){},onMenuSwipe:function(){}},c);if(!a.data(N,"plugin_multilevelpushmenu")){a.data(N,"plugin_multilevelpushmenu",S);N.settings=a.data(N,"plugin_multilevelpushmenu")}var F={init:function(){return j.apply(this,Array.prototype.slice.call(arguments))},collapse:function(){return D.apply(this,Array.prototype.slice.call(arguments))},expand:function(){return s.apply(this,Array.prototype.slice.call(arguments))},menuexpanded:function(){return g.apply(this,Array.prototype.slice.call(arguments))},activemenu:function(){return I.apply(this,Array.prototype.slice.call(arguments))},findmenusbytitle:function(){return O.apply(this,Array.prototype.slice.call(arguments))},finditemsbyname:function(){return P.apply(this,Array.prototype.slice.call(arguments))},pathtoroot:function(){return q.apply(this,Array.prototype.slice.call(arguments))},comparepaths:function(){return z.apply(this,Array.prototype.slice.call(arguments))},option:function(){return e.apply(this,Array.prototype.slice.call(arguments))},additems:function(){return E.apply(this,Array.prototype.slice.call(arguments))},removeitems:function(){return x.apply(this,Array.prototype.slice.call(arguments))},redraw:function(){return Q.apply(this,Array.prototype.slice.call(arguments))},visiblemenus:function(){return h.apply(this,Array.prototype.slice.call(arguments))},hiddenmenus:function(){return n.apply(this,Array.prototype.slice.call(arguments))}};function u(W){if(W.stopPropagation&&W.preventDefault){W.stopPropagation();W.preventDefault()}else{W.cancelBubble=true;W.returnValue=false}}function i(W,X){W.on(X,function(ab,Y){W.hide();try{Y=Y||{pageX:ab.pageX,pageY:ab.pageY};var Z=document.elementFromPoint(Y.pageX,Y.pageY);Z=(Z.nodeType==3)?Z.parentNode:Z;a(Z).trigger(X,Y)}catch(aa){console.log(aa.message)}finally{W.show()}})}function V(){var W=a("<nav />").prop({id:N.settings.menuID,className:N.settings.wrapperClass}).appendTo(N.settings.container);d(N.settings.menu,W)}function d(X,W){if(X.level==undefined){X.level=0}a.each(X,function(){var ac=a("<div />").attr({"class":"levelHolderClass"+((N.settings.direction=="rtl")?" rtl":" ltr"),"data-level":X.level,style:((N.settings.direction=="rtl")?"margin-right: ":"margin-left: ")+((X.level==0&&!N.settings.collapsed)?0:"-200%")}).appendTo(W),Y=(A(N.settings.menuWidth)||(R(N.settings.menuWidth)&&N.settings.menuWidth>0));ac.on(J,function(ad){u(ad)});ac.bind(f,function(ad){M(ad,ac)});if(this.id!=undefined){ac.attr({id:this.id})}var aa=a("<h2 />").attr({style:"text-align: "+((N.settings.direction=="rtl")?"right":"left")}).text(this.title).appendTo(ac),Z=a("<i />").prop({"class":((N.settings.direction=="rtl")?"floatLeft":"floatRight")+" cursorPointer "+this.icon}).prependTo(aa);Z.bind(J,function(ad){k(ad,ac,X)});if(X.level>0){G(ac)}var ab=a("<ul />").appendTo(ac);a.each(this.items,function(){T(this,ac,-1)})})}function t(){var W=(N.settings.container.find("nav").length>0)?N.settings.container.find("nav"):N.settings.menu;if(W.length==0){return false}W.prop({id:N.settings.menuID,className:N.settings.wrapperClass});r(W)}function r(W){if(W.level==undefined){W.level=0}a.each(W,function(){var ab=a("<div />").attr({"class":"levelHolderClass"+((N.settings.direction=="rtl")?" rtl":" ltr"),"data-level":W.level,style:((N.settings.direction=="rtl")?"margin-right: ":"margin-left: ")+((W.level==0&&!N.settings.collapsed)?0:"-200%")}).appendTo(W),X=(A(N.settings.menuWidth)||(R(N.settings.menuWidth)&&N.settings.menuWidth>0));ab.on(J,function(ac){u(ac)});ab.bind(f,function(ac){M(ac,ab)});var Z=W.children("h2");Z.attr({style:"text-align: "+((N.settings.direction=="rtl")?"right":"left")});Z.appendTo(ab);var Y=Z.children("i");Y.addClass(((N.settings.direction=="rtl")?"floatLeft":"floatRight")+" cursorPointer");Y.bind(J,function(ac){k(ac,ab,W)});if(W.level>0){G(ab)}var aa=W.children("ul");aa.appendTo(ab);a.each(aa.children("li"),function(){var ad=a(this);ad.attr({style:"text-align: "+((N.settings.direction=="rtl")?"right":"left")});var ac=ad.children("a");var ae=ac.children("i");ae.addClass(((N.settings.direction=="rtl")?"floatLeft":"floatRight"));if(ad.children("ul").length>0){ac.bind(J,function(af){L(af,ab,ad)});m(ac);ad.level=W.level+1;r(ad)}else{ac.bind(J,function(af){w(af,ab,ad)})}})})}function k(ab,aa,Z){if(a(N).find("div.levelHolderClass").is(":animated")){return false}N.settings.onTitleItemClick.apply(this,Array.prototype.slice.call([ab,aa,N.settings]));u(ab);var X=(N.settings.direction=="rtl")?parseInt(aa.css("margin-right"))<0:parseInt(aa.css("margin-left"))<0;if(Z.level==0&&X){s()}else{var ac=N.settings.container.find("#"+N.settings.menuID+" div.levelHolderClass").filter(function(){var ad=(N.settings.direction=="rtl")?((a(this).attr("data-level")>aa.attr("data-level"))&&(parseInt(a(this).css("margin-right"))>=0)):((a(this).attr("data-level")>aa.attr("data-level"))&&(parseInt(a(this).css("margin-left"))>=0));return ad}),Y=N.settings.container.find("#"+N.settings.menuID+" div.levelHolderClass").filter(function(){var ad=(N.settings.direction=="rtl")?((a(this).attr("data-level")<=aa.attr("data-level"))&&(parseInt(a(this).css("margin-right"))>=0)):((a(this).attr("data-level")<=aa.attr("data-level"))&&(parseInt(a(this).css("margin-left"))>=0));return ad}),W=(ac.length==0&&Y.length==1)?D():D(parseInt(aa.attr("data-level")))}aa.css("visibility","visible");aa.find("."+N.settings.backItemClass).css("visibility","visible");aa.find("ul").css("visibility","visible");aa.removeClass(N.settings.menuInactiveClass)}function G(Z){var W=a("<div />").attr({"class":N.settings.backItemClass}).appendTo(Z),X=a("<a />").prop({href:"#"}).text(N.settings.backText).appendTo(W),Y=a("<i />").prop({"class":((N.settings.direction=="rtl")?"floatLeft ":"floatRight ")+N.settings.backItemIcon}).prependTo(X);X.bind(J,function(aa){K(aa,Z)})}function K(X,W){if(a(N).find("div.levelHolderClass").is(":animated")){return false}N.settings.onBackItemClick.apply(this,Array.prototype.slice.call([X,W,N.settings]));u(X);D(parseInt(W.attr("data-level")-1))}function L(Y,X,W){if(a(N).find("div.levelHolderClass").is(":animated")){return false}N.settings.onGroupItemClick.apply(this,Array.prototype.slice.call([Y,X,W,N.settings]));s(W.find("div:first"));if(N.settings.preventGroupItemClick){u(Y)}}function m(W){var X=a("<i />").attr({"class":((N.settings.direction=="rtl")?" floatRight iconSpacing_rtl ":" floatLeft iconSpacing_ltr ")+N.settings.groupIcon}).prependTo(W)}function T(){var Z=arguments[0],ac=arguments[1],W=arguments[2],ab=ac.find("ul:first"),Y=a("<li />");(W<(ab.find("li").length)&&W>=0)?Y.insertBefore(ab.find("li").eq(W)):Y.appendTo(ab);Y.attr({style:"text-align: "+((N.settings.direction=="rtl")?"right":"left")});if(Z.id!=undefined){Y.attr({id:Z.id})}var X=a("<a />").prop({href:Z.link}).text(Z.name).appendTo(Y),aa=a("<i />").prop({"class":((N.settings.direction=="rtl")?"floatLeft ":"floatRight ")+Z.icon}).prependTo(X);if(Z.items){X.bind(J,function(ad){L(ad,ac,Y)});m(X);Z.items.level=parseInt(ac.attr("data-level"),10)+1;d(Z.items,Y)}else{X.bind(J,function(ad){w(ad,ac,Y)})}}function w(Y,X,W){N.settings.onItemClick.apply(this,Array.prototype.slice.call([Y,X,W,N.settings]));if(N.settings.preventItemClick){u(Y)}}function M(ab,X){var Y=N.settings.onMenuSwipe.apply(this,Array.prototype.slice.call([ab,X,N.settings]));if(Y==false){return false}if(a(N).find("div.levelHolderClass").is(":animated")){return false}var aa=(X.attr("data-level")>0)?X.attr("data-level")-1:undefined;if(ab.type=="touchmove"&&N.settings.swipe!="desktop"){u(ab);ab=(ab.touches)?ab:ab.originalEvent;if(!ab.touches||ab.touches.length<=0){return false}var Z=ab.touches[0];N.settings.container.unbind("touchend");N.settings.container.bind("touchend",function(ac){u(ac);X.significance=0;X.swipeStart=0;N.settings.container.unbind("touchend")});if(X.swipeStart!=undefined&&X.swipeStart!=0){X.significance=Z.pageX-X.swipeStart}else{X.significance=0;X.swipeStart=Z.pageX;return true}if(Math.abs(X.significance)>N.settings.overlapWidth*0.3){if(N.settings.direction=="rtl"){X.significance*=(-1)}(X.significance>0)?s((aa==undefined)?aa:X):D(aa);X.significance=0;X.swipeStart=0}}else{if(N.settings.swipe!="touchscreen"){u(ab);var W=0;X.unbind("mousemove");X.bind("mousemove",function(ac){W=ac.clientX-ab.clientX;if(Math.abs(W)>N.settings.overlapWidth*0.3){X.unbind("mousemove");if(N.settings.direction=="rtl"){W*=(-1)}(W>0)?s((aa==undefined)?aa:X):D(aa);return true}});N.settings.container.unbind("mouseup");N.settings.container.bind("mouseup",function(ac){u(ac);X.unbind("mousemove");N.settings.container.unbind("mouseup")})}}}function h(){var W=N.settings.container.find("#"+N.settings.menuID+" div.levelHolderClass").filter(function(){var X=(N.settings.direction=="rtl")?(parseInt(a(this).css("margin-right"))>=0&&a(this).position().left<N.settings.container.width()-N.settings.overlapWidth):(parseInt(a(this).css("margin-left"))>=0&&a(this).position().left>=0);return X});if(W.length<1){W=false}return W}function n(){var W=N.settings.container.find("#"+N.settings.menuID+" div.levelHolderClass").filter(function(){var X=(N.settings.direction=="rtl")?((a(this).position().left>N.settings.container.width()||parseInt(a(this).css("margin-right"))<0)):((a(this).position().left<0||parseInt(a(this).css("margin-left"))<0));return X});if(W.length<1){W=false}return W}function Q(){if(!N.redraw){N.redraw=true;var Y=arguments[0],ab=arguments[1],X=arguments[2],aa=(a("#"+N.settings.menuID+" div.levelHolderClass").first().css("filter").match(/DXImageTransform\.Microsoft\.Shadow/))?a("#"+N.settings.menuID+" div.levelHolderClass").first().get(0).filters.item("DXImageTransform.Microsoft.Shadow").strength:0,al=(Y==undefined)?Math.max.apply(null,a("#"+N.settings.menuID+" div.levelHolderClass").map(function(){return a(this).width()}).get())-aa:Y-aa,ai=Math.max.apply(null,a("#"+N.settings.menuID+" div.levelHolderClass").map(function(){return a(this).attr("data-level")}).get()),ag=(A(N.settings.menuWidth)||(R(N.settings.menuWidth)&&N.settings.menuWidth>0)),Z=(A(N.settings.menuHeight)||(R(N.settings.menuHeight)&&N.settings.menuHeight>0)),ad=(X==undefined)?a("#"+N.settings.menuID+" div.levelHolderClass"):X;if(!ag&&N.menuWidth!=undefined){al=N.menuWidth}(ag&&Y==undefined)?ad.width(N.settings.menuWidth):ad.width(al);if(ag){if((ad.width()==0||(A(N.settings.menuWidth)&&N.settings.menuWidth.indexOf("%")!=-1))&&Y==undefined){ad.css("min-width","");ad.width(parseInt(N.settings.container.parent().width()*parseInt(N.settings.menuWidth)/100))}al=ad.width()-aa;ad.css("min-width",ad.width()-aa+"px")}var af=(ag&&Y==undefined)?(ad.width()-aa+ai*(N.settings.overlapWidth+aa)):(al+ai*(N.settings.overlapWidth+aa)),ak=(ab==undefined)?Math.max.apply(null,a("#"+N.settings.menuID+" div.levelHolderClass").map(function(){return a(this).height()}).get()):ab;N.settings.container.css("min-height","");N.settings.container.children("nav:first").css("min-height","");if(Z){N.settings.container.height(N.settings.menuHeight);N.settings.container.css("min-height",N.settings.menuHeight);N.settings.container.children("nav:first").css("min-height",N.settings.menuHeight);a("#"+N.settings.menuID).height(N.settings.menuHeight);ak=N.settings.container.height()}else{a("#"+N.settings.menuID).height(ak)}N.settings.container.css("min-width","");N.settings.container.css("min-width",af+"px");N.settings.container.css("min-height",ak+"px");N.settings.container.children("nav:first").css("min-width","");N.settings.container.children("nav:first").css("min-width",af+"px");N.settings.container.children("nav:first").css("min-height",ak+"px");N.settings.container.width(af);N.settings.container.height(ak);var ah=a("#"+N.settings.menuID+" div.levelHolderClass:first"),aj=h(),ac=n(),W=I(),ae=(W.length==1)?W.attr("data-level"):0;if(aj){aj.each(function(){if(N.settings.mode=="overlap"){a(this).width(a(this).width()+(parseInt(ae,10)-parseInt(a(this).attr("data-level"),10))*(N.settings.overlapWidth+aa))}})}if(ac){ac.each(function(){(N.settings.direction=="rtl")?a(this).css("margin-right",(a(this).attr("data-level")==ah.attr("data-level")&&!N.settings.fullCollapse)?a(this).width()*(-1)+N.settings.overlapWidth:a(this).width()*(-2)):a(this).css("margin-left",(a(this).attr("data-level")==ah.attr("data-level")&&!N.settings.fullCollapse)?a(this).width()*(-1)+N.settings.overlapWidth:a(this).width()*(-2))})}N.menuWidth=al;N.menuHeight=ak;N.redraw=false}}function C(){var X=a("#"+N.settings.menuID+" div.levelHolderClass:first"),W=N.settings.container.find("#"+N.settings.menuID+" div.levelHolderClass").filter(function(){var Y=(N.settings.direction=="rtl")?((a(this).position().left>N.settings.container.width()||parseInt(a(this).css("margin-right"))<0)&&a(this).attr("data-level")>X.attr("data-level")):((a(this).position().left<0||parseInt(a(this).css("margin-left"))<0)&&a(this).attr("data-level")>X.attr("data-level"));return Y});W.each(function(){if(N.settings.direction=="rtl"){a(this).css("margin-right",((a(this).attr("data-level")==X.attr("data-level")&&!N.settings.collapsed)?0:(-2)*a(this).width()))}else{a(this).css("margin-left",((a(this).attr("data-level")==X.attr("data-level")&&!N.settings.collapsed)?0:(-2)*a(this).width()))}});if(N.settings.direction=="rtl"){X.css("margin-right",(!N.settings.collapsed)?0:(-2)*X.width())}else{X.css("margin-left",(!N.settings.collapsed)?0:(-2)*X.width())}}function R(W){return typeof W==="number"&&parseFloat(W)==parseInt(W,10)&&!isNaN(W)}function A(W){return typeof W==="string"&&(W.indexOf("%")!=-1||W.indexOf("px")!=-1||W.indexOf("em")!=-1)}function j(){var W=(c&&c.menu!=undefined)?V():t();i(N.settings.container,J);Q();C();y(N.settings.collapsed);N.settings.onMenuReady.apply(this,Array.prototype.slice.call([N.settings]));return p}function y(W){if(W){$baseLevelHolder=a("#"+N.settings.menuID+" div.levelHolderClass:first");$baseLevelHolder.find("ul").hide();$baseLevelHolder.addClass(N.settings.menuInactiveClass);if(N.settings.direction=="rtl"){$baseLevelHolder.stop().animate({marginRight:((-1)*$baseLevelHolder.width()+((N.settings.fullCollapse)?0:N.settings.overlapWidth))})}else{$baseLevelHolder.stop().animate({marginLeft:((-1)*$baseLevelHolder.width()+((N.settings.fullCollapse)?0:N.settings.overlapWidth))})}}}function B(W){if(N.settings.containersToPush==null){return false}a.each(N.settings.containersToPush,function(){var Y=parseInt(a(this).css("margin-left")),Z=R(Y)?Y:0,X=parseInt(a(this).css("margin-right")),aa=R(X)?X:0;a(this).stop().animate({marginLeft:Z+((N.settings.direction=="rtl")?(-1):1)*W,marginRight:aa+((N.settings.direction=="rtl")?1:(-1))*W})})}function D(){if(a(N).find("div.levelHolderClass").is(":animated")){return false}N.settings.onCollapseMenuStart.apply(this,Array.prototype.slice.call([N.settings]));var X=arguments[0],af=arguments[1],ab={},Y,Z,aa,ai,ag,ah=a("#"+N.settings.menuID+" div.levelHolderClass:first"),ae=(X==undefined)?true:false;ab.collapsingEnded=false;if(typeof X=="object"){X=X.attr("data-level")}else{if(typeof X=="string"){var W=O(X);if(W&&W.length==1){X=W.attr("data-level")}else{X=ah.attr("data-level")}}else{if(X==undefined||!R(X)||X<0){X=ah.attr("data-level")}}}if(af==undefined&&typeof af!="object"){af=[{method:N.settings.onCollapseMenuEnd,args:[N.settings]}]}else{a.merge(af,[{method:N.settings.onCollapseMenuEnd,args:[N.settings]}])}var ad=N.settings.container.find("#"+N.settings.menuID+" div.levelHolderClass").filter(function(){var aj=(N.settings.direction=="rtl")?(a(this).attr("data-level")>X)&&(parseInt(a(this).css("margin-right"))>=0&&a(this).position().left<N.settings.container.width()-N.settings.overlapWidth):(a(this).attr("data-level")>X)&&(parseInt(a(this).css("margin-left"))>=0&&a(this).position().left>=0);return aj}),ac=N.settings.container.find("#"+N.settings.menuID+" div.levelHolderClass").filter(function(){var aj=(N.settings.direction=="rtl")?(a(this).attr("data-level")<=X)&&(parseInt(a(this).css("margin-right"))>=0&&a(this).position().left<N.settings.container.width()-N.settings.overlapWidth):(a(this).attr("data-level")<=X)&&(parseInt(a(this).css("margin-left"))>=0&&a(this).position().left>=0);return aj});if(ac.length>0){ab.prevAnimEnded=false;ad.each(function(aj,ak){Y=(a(ak).css("filter").match(/DXImageTransform\.Microsoft\.Shadow/))?a(ak).get(0).filters.item("DXImageTransform.Microsoft.Shadow").strength:0;Z=(N.settings.mode=="overlap")?a(ak).width()-(ad.length+ac.length-a(ak).attr("data-level")-1)*(N.settings.overlapWidth+Y)-Y:a(ak).width()-Y;if(N.settings.direction=="rtl"){a(ak).stop().animate({marginRight:((-1)*Z),width:Z})}else{a(ak).stop().animate({marginLeft:((-1)*Z),width:Z})}});ab.nextAnimEnded=(ad.length>0)?false:true;ad.last().queue(function(){ab.nextAnimEnded=true;H(ab,af)});ac.each(function(ak,am){Y=(a(am).css("filter").match(/DXImageTransform\.Microsoft\.Shadow/))?a(am).get(0).filters.item("DXImageTransform.Microsoft.Shadow").strength:0;var aj=ac.filter(function(){return a(this).attr("data-level")==X});aj.css("visibility","visible");aj.find("."+N.settings.backItemClass).css("visibility","visible");aj.find("ul").css("visibility","visible");aj.removeClass(N.settings.menuInactiveClass);Z=(N.settings.mode=="overlap")?a(am).width()-ad.length*(N.settings.overlapWidth+Y)-Y:a(am).width()-Y;if(N.settings.direction=="rtl"){a(am).stop().animate({width:Z,marginRight:(a(am).attr("data-level")==ah.attr("data-level")&&ae)?(N.settings.fullCollapse)?(-1)*a(am).width():((-1)*a(am).width()+((N.settings.mode=="overlap")?ad.length+1:1)*N.settings.overlapWidth):0},function(){if(a(am).attr("data-level")==ah.attr("data-level")&&ae){ah.children("ul").first().hide(500,function(){ah.addClass(N.settings.menuInactiveClass)})}})}else{a(am).stop().animate({width:Z,marginLeft:(a(am).attr("data-level")==ah.attr("data-level")&&ae)?(N.settings.fullCollapse)?(-1)*a(am).width():((-1)*a(am).width()+((N.settings.mode=="overlap")?ad.length+1:1)*N.settings.overlapWidth):0},function(){if(a(am).attr("data-level")==ah.attr("data-level")&&ae){ah.children("ul").first().hide(500,function(){ah.addClass(N.settings.menuInactiveClass)})}})}aa=(N.settings.mode=="overlap")?((-1)*(ad.length*(N.settings.overlapWidth+Y))):0;if(a(am).attr("data-level")==ah.attr("data-level")&&ae){var al=(N.settings.fullCollapse)?(-1)*(ah.width()-Y):(-1)*(ah.width()-Y)+N.settings.overlapWidth;B(al)}else{B(aa)}});ac.last().queue(function(){ab.prevAnimEnded=true;H(ab,af)})}ab.collapsingEnded=true;H(ab,af);return p}function v(){if(a(N).find("div.levelHolderClass").is(":animated")){return false}N.settings.onExpandMenuStart.apply(this,Array.prototype.slice.call([N.settings]));var Y=arguments[0],ah=arguments[1],X,Z,ab,af,aa={},ai=a("#"+N.settings.menuID+" div.levelHolderClass:first"),ad=(Y==undefined)?true:false,ak=(N.settings.direction=="rtl")?parseInt(ai.css("margin-right"),10)<0||ai.position().left>=N.settings.container.width()-N.settings.overlapWidth:parseInt(ai.css("margin-left"),10)<0||ai.position().left<0;aa.expandingEnded=false;if(ah==undefined&&typeof ah!="object"){ah=[{method:N.settings.onExpandMenuEnd,args:[N.settings]}]}else{a.merge(ah,[{method:N.settings.onExpandMenuEnd,args:[N.settings]}])}if(ad){aa.baseAnimEnded=false;ai.removeClass(N.settings.menuInactiveClass);if(N.settings.direction=="rtl"){ai.stop().animate({marginRight:0},function(){ai.children("ul").first().show(500,function(){aa.baseAnimEnded=true;H(aa,ah)})})}else{ai.stop().animate({marginLeft:0},function(){ai.children("ul").first().show(500,function(){aa.baseAnimEnded=true;H(aa,ah)})})}af=(N.settings.fullCollapse)?ai.width():ai.width()-N.settings.overlapWidth;var aj=(!g(ai))?B(af):null}else{if(typeof Y=="object"){$selectedLevelHolder=Y}else{if(typeof Y=="string"){$selectedLevelHolder=O(Y)}else{$selectedLevelHolder=null;a.error("Provided menu selector is not valid")}}if($selectedLevelHolder&&$selectedLevelHolder.length==1){var W=I(),ag=(W.length==1)?W.attr("data-level"):0,ac=$selectedLevelHolder.width();aa.setToOpenAnimEnded=false;if(setToOpenHolders=q($selectedLevelHolder)){var ae=a(setToOpenHolders).length-1;ai.find("ul").each(function(){a(this).show(0)});a(setToOpenHolders).find("ul").css("visibility","hidden");a(setToOpenHolders).find("div").css("visibility","visible");a(setToOpenHolders).find("."+N.settings.backItemClass).css("visibility","hidden");a(setToOpenHolders).each(function(al,am){X=(a(am).css("filter").match(/DXImageTransform\.Microsoft\.Shadow/))?a(am).get(0).filters.item("DXImageTransform.Microsoft.Shadow").strength:0;Z=ac-X+(ae-a(am).attr("data-level"))*(N.settings.overlapWidth+X);if(N.settings.direction=="rtl"){a(am).stop().animate({marginRight:0,width:(N.settings.mode=="overlap")?Z:ac-X},function(){a(am).addClass(N.settings.menuInactiveClass)})}else{a(am).stop().animate({marginLeft:0,width:(N.settings.mode=="overlap")?Z:ac-X},function(){a(am).addClass(N.settings.menuInactiveClass)})}});a(setToOpenHolders).last().queue(function(){a(this).removeClass(N.settings.menuInactiveClass);aa.setToOpenAnimEnded=true;H(aa,ah)});if(ak){af=(N.settings.fullCollapse)?ai.width():(ai.width()-N.settings.overlapWidth);B(af)}if(N.settings.mode=="overlap"){ab=((ak)?(ac+(ae-((N.settings.fullCollapse)?0:1))*(N.settings.overlapWidth+X)):((ae-ag)*(N.settings.overlapWidth+X)));B(ab)}$selectedLevelHolder.css("visibility","visible");$selectedLevelHolder.find("."+N.settings.backItemClass).css("visibility","visible");$selectedLevelHolder.find("ul").css("visibility","visible");$selectedLevelHolder.removeClass(N.settings.menuInactiveClass)}else{a.error("Invalid menu object provided")}}else{a.error("No or too many menus named "+Y)}}aa.expandingEnded=true;H(aa,ah)}function s(){var ab=arguments[0],Y,X=I(),aa,W,Z;if(typeof ab=="object"){Y=ab}else{if(typeof ab=="string"){Z=O(ab);if(Z){Y=Z.eq(0)}else{a.error(ab+" menu level does not exist!")}}else{Y=a("#"+N.settings.menuID+" div.levelHolderClass:first")}}aa=z(Y,X,true);W=(aa.length>0)?Math.max.apply(null,aa.map(function(){return a(this).attr("data-level")}).get()):0;if(W<X.attr("data-level")){D(W,[{method:v,args:arguments}])}else{v.apply(this,Array.prototype.slice.call(arguments))}return p}function O(){var W=arguments[0],X,Y=N.settings.container.find("#"+N.settings.menuID+" div.levelHolderClass").filter(function(){return((a(this).children("h2").text()==W))});if(Y.length>0){returnValue=Y;X=returnValue}else{returnValue=false;X=returnValue}return X}function P(){var Y=arguments[0],W,X=N.settings.container.find("#"+N.settings.menuID+" div.levelHolderClass li").filter(function(){return((a(this).children("a").text()==Y))});if(X.length>0){returnValue=X;W=returnValue}else{returnValue=false;W=returnValue}return W}function q(){var Y=arguments[0],Z,X,W;if(Y==undefined||Y.length!=1){returnValue=false;return returnValue}Z=Y.parents("div.levelHolderClass");X=a.merge(Z.get().reverse(),Y.get());returnValue=X;return returnValue}function z(){var af=arguments[0],ad=arguments[1],ac=(arguments[2]!=undefined)?arguments[2]:false,ab,Y,aa,Z,ag,X,ae,W;if(af==undefined||ad==undefined){returnValue=false;return returnValue}ab=(af.length==1)?af.parents("div.levelHolderClass"):null;Y=(ad.length==1)?ad.parents("div.levelHolderClass"):null;aa=(ab!=null)?a.merge(ab.get().reverse(),af.get()):[];Z=(Y!=null)?a.merge(Y.get().reverse(),ad.get()):[];ag=(aa.length>=Z.length)?aa:Z;X=(ag===aa)?Z:aa;ae=a(ag).filter(function(){return(ac)?(a.inArray(this,X)!=-1):(a.inArray(this,X)==-1)});returnValue=ae;return returnValue}function I(){var X=N.settings.container.find("#"+N.settings.menuID+" div.levelHolderClass").filter(function(){var Y=(N.settings.direction=="rtl")?((parseInt(a(this).css("margin-right"))>=0&&a(this).position().left<N.settings.container.width()-N.settings.overlapWidth)):((parseInt(a(this).css("margin-left"))>=0&&a(this).position().left>=0));return Y}),W=Math.max.apply(null,X.map(function(){return a(this).attr("data-level")}).get());$activeLevelHolder=X.filter(function(){return a(this).attr("data-level")==W});returnValue=$activeLevelHolder;return returnValue}function g(){var Y=arguments[0],X=false;if(Y==undefined){return X}var W=(N.settings.direction=="rtl")?(parseInt(Y.css("margin-right"))>=0&&Y.position().left<N.settings.container.width()-N.settings.overlapWidth):(parseInt(Y.css("margin-left"))>=0&&Y.position().left>=0);return W}function E(){var X=arguments[0],Z=arguments[1],W=arguments[2];if(Z==undefined||typeof X!="object"||!Z){return false}if(X.level==undefined){X.level=parseInt(Z.attr("data-level"),10)}if(W==undefined){W=0}var Y=Z.find("ul:first");a.each(X,function(){if(this.name!=undefined){T(this,Z,W)}});Q(N.menuWidth);return p}function x(){var Z=arguments[0];if(Z==undefined||typeof Z!="object"||Z.length==0){return false}Z.remove();var W=I();if(W.length==1){W.css("visibility","visible");W.find("."+N.settings.backItemClass).css("visibility","visible");W.find("ul").css("visibility","visible");W.removeClass(N.settings.menuInactiveClass);var X=W.width()-N.menuWidth;if(X!=0){var Y=h();if(Y){Y.each(function(){a(this).width(a(this).width()-X)})}}}Q(N.menuWidth);return p}function H(W,Y){var X=true;a.each(W,function(Z,aa){X=X&&aa});if(X){window.setTimeout(function(){a.each(Y,function(Z,aa){aa.method.apply(this,Array.prototype.slice.call(aa.args))})},1)}}function e(){var W=false;if(N.settings[arguments[0]]!=undefined){if(arguments[1]!=undefined){N.settings[arguments[0]]=arguments[1]}W=N.settings[arguments[0]]}else{a.error("No option "+arguments[0]+" found in jQuery.multilevelpushmenu")}return W}function o(){var W=false;(function(X){if(/(android|ipad|playbook|silk|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(X)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(X.substr(0,4))){W=true}})(navigator.userAgent||navigator.vendor||window.opera);return W}if(o()){J="touchend";f="touchmove"}else{J="click";f="mousedown"}if(F[c]){returnValue=F[c].apply(this,Array.prototype.slice.call(b,1));return returnValue}else{if(typeof c==="object"||!c){returnValue=F.init.apply(this,arguments);return returnValue}else{a.error("No "+c+" method found in jQuery.multilevelpushmenu")}}if(!returnValue){returnValue=this}});return returnValue}}(jQuery));